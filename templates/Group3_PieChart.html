<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Data Visualization</title>

     <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style.css') }}">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <!-- Font Awesome -->
<link
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
  rel="stylesheet"
/>
<!-- Google Fonts -->
<link
  href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
  rel="stylesheet"
/>
<!-- MDB -->
<link
  href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/5.0.0/mdb.min.css"
  rel="stylesheet"
/>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.6.1/d3.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.6.1/d3.js"></script>
    <script src="https://cdn.plot.ly/plotly-2.16.1.min.js"></script>
    <style>
        .dashboard{
        background-color:rgb(105,209,234);
        margin-top:2%;

        }
        .dashboard li a{
        font-weight:bold;
        color:white;}
    </style>
  </head>

<body>
<header >
<!--  <a class="navbar-brand col-md-3 col-lg-2 me-0 px-3" style="font-size: 30px; font-weight: bold" href="#">-->
<!--      </a>-->
<!--  <button class="navbar-toggler position-absolute d-md-none collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">-->
<!--    <span class="navbar-toggler-icon"></span>-->
<!--  </button>-->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="container-fluid">
      <form   action="/home" method="post">
          <a id="hometab" class="navbar-brand"  ><button type="submit">Twitter Sentiment Analysis | </button></a>
      </form>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
            <form   action="/home" method="post">
           <a id="homelink" class="nav-link active" aria-current="page"    ><button type="submit">Home</button></a>
            </form>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/sentiment_analyzer">Tweet Analyze</a>
        </li>
          <li class="nav-item">
          <a class="nav-link" href="/visualize">Visualize</a>
        </li>
          <li class="nav-item">
          <a class="nav-link" target="_blank" href="https://www.tweepy.org/">Help</a>
        </li>


      </ul>


        <a href="/"><button class="btn btn-outline-success" type="submit">Landing Page</button></a>

    </div>
  </div>
</nav>

</header>
<!--<div class="container-fluid dashboard">-->

<!--    <ul class="nav nav-pills nav-fill">-->
<!--  <li class="nav-item">-->
<!--    <a class="nav-link active" aria-current="page" href="#dashboard1" data-bs-toggle="pill" >Overview</a>-->
<!--  </li>-->
<!--  <li class="nav-item">-->
<!--    <a class="nav-link" href="#dashboard2" data-bs-toggle="pill">Positive Tweets</a>-->
<!--  </li>-->
<!--  <li class="nav-item">-->
<!--    <a class="nav-link" href="#dashboard3" data-bs-toggle="pill">Negative Tweets</a>-->
<!--  </li>-->

<!--</ul>-->
<!--<div class="tab-content">-->
<!--  <div class="tab-pane container active" id="dashboard1">This is a message tab using pill data-toggle attribute.</div>-->
<!--  <div class="tab-pane container fade" id="dashboard2">This is a profile tab using pill data-toggle attribute.</div>-->
<!--  <div class="tab-pane container fade" id="dashboard3">This is a setting tab using pill data-toggle attribute.</div>-->
<!--</div>-->

<!--</div>-->
<!-- Tabs navs -->
<div class="container-fluid dashboard">
<!-- Tabs navs -->
<ul class="nav nav-pills mb-3" id="ex-with-icons" role="tablist">
  <li class="nav-item" role="presentation">
    <a class="nav-link active" id="ex-with-icons-tab-1" data-mdb-toggle="tab" href="#ex-with-icons-tabs-1" role="tab"
      aria-controls="ex-with-icons-tabs-1" aria-selected="true"><i class="fa-sharp fa-solid fa-table"></i>  Overview</a>
  </li>
  <li class="nav-item" role="presentation">
    <a class="nav-link" id="ex-with-icons-tab-2" data-mdb-toggle="tab" href="#ex-with-icons-tabs-2" role="tab"
      aria-controls="ex-with-icons-tabs-2" aria-selected="false"><i class="fa-sharp fa-solid fa-chart-simple"></i>    Positive Tweets</a>
  </li>
  <li class="nav-item" role="presentation">
    <a class="nav-link" id="ex-with-icons-tab-3" data-mdb-toggle="tab" href="#ex-with-icons-tabs-3" role="tab"
      aria-controls="ex-with-icons-tabs-3" aria-selected="false"><i class="fas fa-chart-pie fa-fw me-2"></i>Negative Tweets</a>
  </li>
</ul>
<!-- Tabs navs -->

<!-- Tabs content -->
<div class="tab-content" id="ex-with-icons-content">
  <div class="tab-pane fade show active" id="ex-with-icons-tabs-1" role="tabpanel" aria-labelledby="ex-with-icons-tab-1">
    <div class="row" style="margin-left:7%;">
  <div class="col-md-4" style="background-color:white;height:150px;width:400px;border:1px solid;margin-right:2%;margin-bottom:2%;border-radius:10px;box-shadow: 5px 10px #888888;">
      <span style="display:block;margin-top:5%;margin-left:30%;font-size:18px;">
          Tweet Keyword
      </span>
      <span style="display:block;margin-top:5%;margin-left:30%;font-size:24px;">
          <b>{{hashtag}}</b>
      </span>
  </div>
  <div class="col-md-4" style="background-color:white;height:150px;width:400px;border:1px solid;margin-right:2%;border-radius:10px;margin-bottom:2%;box-shadow: 5px 10px #888888;">
      <span style="display:block;margin-top:5%;margin-left:25%;font-size:18px;">
          Total # Positive Tweets
      </span>
      <span style="display:block;margin-top:5%;margin-left:35%;font-size:28px;color:red">
          <b>{{positive_count}}</b>
      </span>
  </div>
  <div class="col-md-4" style="background-color:white;height:150px;width:400px;border:1px solid;margin-bottom:2%;border-radius:10px;box-shadow: 5px 10px #888888;">
      <span style="display:block;margin-top:5%;margin-left:25%;font-size:18px;">
          Total # Negative Tweets
      </span>
      <span style="display:block;margin-top:5%;margin-left:35%;font-size:28px;color:lightgreen;">
          <b>{{negative_count}}</b>
      </span>
  </div>
</div>
      <div class="row" style="margin-left:7%;">
  <div class="col-md-8" style="background-color:white;height:350px;width:830px;border:1px solid;margin-right:2%;margin-bottom:2%;border-radius:10px;box-shadow: 5px 10px #888888;">

      <span style="display:block;margin-top:0%;margin-left:10%;font-size:24px;">
          <div id="tester" style="width:600px;height:300px;"></div>
      </span>
  </div>
  <div class="col-md-4" style="background-color:white;height:350px;width:400px;border:1px solid;margin-right:2%;border-radius:10px;margin-bottom:2%;box-shadow: 5px 10px #888888;">

      <span style="display:block;margin-top:0%;margin-left:5%;font-size:28px;">
          <div id="tester2" ></div>
      </span>
  </div>

</div>
      <div class="row" style="margin-left:7%;">
  <div class="col-md-8" style="background-color:white;height:350px;width:930px;border:1px solid;margin-right:2%;margin-bottom:2%;border-radius:10px;box-shadow: 5px 10px #888888;">

      <span style="display:block;margin-top:0%;margin-left:0%;font-size:24px;">
          <div id="totaltweettable"></div>
      </span>
  </div>
  <div class="col-md-4" style="background-color:white;height:350px;width:300px;border:1px solid;margin-right:2%;border-radius:10px;margin-bottom:2%;box-shadow: 5px 10px #888888;">
      <span style="display:block;margin-top:5%;margin-left:18%;font-size:18px;">
          Positive Word
      </span>
      <span style="display:block;margin-top:5%;margin-left:25%;font-size:28px;">
          {{positive_dash}}
      </span>
      <br>
      <br>

      <hr>
      <span style="display:block;margin-top:2%;margin-left:18%;font-size:18px;">
          Negative Word
      </span>
      <span style="display:block;margin-top:5%;margin-left:25%;font-size:28px;">
          {{negative_dash}}
      </span>
  </div>

</div>
  </div>
  <div class="tab-pane fade" id="ex-with-icons-tabs-2" role="tabpanel" aria-labelledby="ex-with-icons-tab-2">

      <div class="row" style="margin-left:7%;">
  <div class="col-md-8" style="background-color:white;height:350px;width:830px;border:1px solid;margin-right:2%;margin-bottom:2%;border-radius:10px;box-shadow: 5px 10px #888888;">

      <span style="display:block;margin-top:-2%;margin-left:5%;font-size:24px;">
          <div id="positivebar"></div>
      </span>
  </div>
  <div class="col-md-4" style="background-color:white;height:350px;width:400px;border:1px solid;margin-right:2%;border-radius:10px;margin-bottom:2%;box-shadow: 5px 10px #888888;">
      <span style="display:block;margin-top:5%;margin-left:25%;font-size:18px;">
          Positive Quote
      </span>
      <span style="display:block;margin-top:3%;margin-left:15%;font-size:28px;">
          <h4 id="positivequote"></h4>
      </span>
  </div>

</div>
      <div class="row" style="margin-left:7%;">
  <div class="col-md-8" style="background-color:white;height:350px;width:930px;border:1px solid;margin-right:2%;margin-bottom:2%;border-radius:10px;box-shadow: 5px 10px #888888;">

      <span style="display:block;margin-top:0%;margin-left:0%;font-size:24px;">
          <div id="positivetotaltweettable"></div>
      </span>
  </div>
          <div class="col-md-4" style="background-color:white;height:350px;width:300px;border:1px solid;margin-right:2%;border-radius:10px;margin-bottom:2%;box-shadow: 5px 10px #888888;">
      <span style="display:block;margin-top:5%;margin-left:18%;font-size:18px;">
          Positive Word Cloud
      </span>
      <span style="display:block;margin-top:3%;margin-left:7%;font-size:28px;">
          {% if positivewordcloud %}
            <center><img src="/static/images/positivewordcloud.png" style="height=700px;width:250px"></center>
        {%endif%}
      </span>
  </div>



</div>


  </div>
  <div class="tab-pane fade" id="ex-with-icons-tabs-3" role="tabpanel" aria-labelledby="ex-with-icons-tab-3">
      <div class="row" style="margin-left:7%;">
  <div class="col-md-8" style="background-color:white;height:350px;width:830px;border:1px solid;margin-right:2%;margin-bottom:2%;border-radius:10px;box-shadow: 5px 10px #888888;">
      <span style="display:block;margin-top:-2%;margin-left:5%;font-size:24px;">
          <div id="negativebar"></div>
      </span>
  </div>
  <div class="col-md-4" style="background-color:white;height:350px;width:400px;border:1px solid;margin-right:2%;border-radius:10px;margin-bottom:2%;box-shadow: 5px 10px #888888;">
      <span style="display:block;margin-top:5%;margin-left:25%;font-size:18px;">
          Success quote
      </span>
      <span style="display:block;margin-top:5%;margin-left:15%;font-size:28px;">
          Don't be negative
      </span>
      <span style="display:block;margin-top:5%;margin-left:15%;font-size:28px;">
          <h4 id="negativequote"></h4>
      </span>
  </div>

</div>
      <div class="row" style="margin-left:7%;">
  <div class="col-md-8" style="background-color:white;height:350px;width:930px;border:1px solid;margin-right:2%;margin-bottom:2%;border-radius:10px;box-shadow: 5px 10px #888888;">
      <span style="display:block;margin-top:0%;margin-left:0%;font-size:24px;">
          <div id="negativetotaltweettable"></div>
      </span>
  </div>
          <div class="col-md-4" style="background-color:white;height:350px;width:300px;border:1px solid;margin-right:2%;border-radius:10px;margin-bottom:2%;box-shadow: 5px 10px #888888;">
      <span style="display:block;margin-top:5%;margin-left:18%;font-size:18px;">
          Negative Word Cloud
      </span>
              <span style="display:block;margin-top:3%;margin-left:7%;font-size:28px;">
          {% if negativewordcloud %}
            <center><img src="/static/images/negativewordcloud.png" style="height=700px;width:250px"></center>
        {%endif%}
      </span>

  </div>



</div>
  </div>
</div>
<!-- Tabs content -->
</div>
<!-- Tabs content -->

<!--<a href="sentiment_analyzer" class="btn btn-primary btn-block btn-lg" style="background-color: crimson; font-size: 18px"> Back </a>-->
<br>
<br>

<script>




	var trace1 = {
  type: 'bar',
  x: ['Positive','Negative'],
  y: [{{positive_count}},{{negative_count}}],

  marker: {
      color: ['lightgreen','red'],
      line: {
          width: 2.5
      }
  }
};
var data = [ trace1 ];

var layout = {
  title: 'Positive vs Negative',
  font: {size: 18}
};

var config = {responsive: true}

Plotly.newPlot('tester', data, layout, config );


<!--///////// Pie Chart-->

var data = [{
  values: [{{positive_count}},{{negative_count}}],
  labels: ['Positive','Negative'],
  type: 'pie',
  marker: {
      colors: ['lightgreen','red'],
      line: {
          width: 2.5
      }
  }
}];

var layout = {
 title: 'Tweet Distribution',
 height: 340,
  width: 350,
  font: {size: 18}
};

Plotly.newPlot('tester2', data, layout,config);
let reqd = []
let requ = []
let reqt = []
d3.csv("../static/output.csv", function(data) {
console.log(data);
},function(error,rows)
{
reqd.push(error["Date"])
requ.push(error["User"])
reqt.push(error["Tweet"])
var values = [reqd,requ,reqt]
var headerColor = "red";
var rowEvenColor = "lightgrey";
var rowOddColor = "white";
var data = [{
  type: 'table',

  columnwidth: [400,400,400],
  header: {
    values: [ ["<b>Date</b>"],
				 ["<b>User</b>"], ["<b>Tweet</b>"]],
    align: "center",
    line: {width: 1, color: 'black'},
    fill: {color: headerColor},
    font: {family: "Arial", size: 12, color: "white"}
  },
  cells: {
    values: values,
    align: "center",
    line: {color: "black", width: 1},
    fill: {color: [[rowOddColor,rowEvenColor,rowOddColor,
						  rowEvenColor,rowOddColor]]},
    font: {family: "Arial", size: 11, color: ["black"]}
  }
}]
var layout = {
    title:'Tweet Data',
  autosize: true,
  width: 900,
  height: 400,
  paper_bgcolor:'rgba(0,0,0,0)',
  }
Plotly.newPlot('totaltweettable', data,layout,config);
});






     let pstkeys =  {{positivetweetlist|safe}}
        console.log(pstkeys);
        let pstvalues = {{positivecountslist|safe}}
        console.log(pstvalues)



colorsforp = []
tempcolorlist = ['#1f77b4',
'#ff7f0e',
'#2ca02c',
'#d62728',
'#9467bd',
'#8c564b',
'#e377c2',
'#7f7f7f',
'#bcbd22',
'#17becf'   ]
for(let i in pstkeys)
{
    var randomNumber = Math.floor(Math.random()*tempcolorlist.length);
    colorsforp.push(tempcolorlist[randomNumber])
}

var trace2 = {
  type: 'bar',
  x: pstkeys,
  y: pstvalues,

  marker: {
    color:colorsforp,
      line: {
          width: 1.5
      }
  }
};
var data2 = [ trace2 ];

var layout = {
  title: 'Positive Words',
  height: 400,
  width: 725,
  xaxis: {
    tickangle: -45
  },

  font: {size: 12},
  paper_bgcolor:'rgba(0,0,0,0)',

};

var config = {responsive: true}

Plotly.newPlot('positivebar', data2, layout, config );

<!--//-->



let psd = {{positivetweettabledate|safe}};
let psu = {{positivetweettableuser|safe}};
let pst = {{positivetweettabletweet|safe}};
let pcd = []
for(let i=1;i<=psd.length;i++)
{
   pcd.push(i);
}
console.log(psd);
console.log(psu);
var values = [pcd,psd,psu,pst]
var headerColor = "red";
var rowEvenColor = "lightgrey";
var rowOddColor = "white";
var data = [{
  type: 'table',

  columnwidth: [400,400,400],
  header: {
    values: [ ["<b>S.No</b>"],["<b>Date</b>"],
				 ["<b>User</b>"], ["<b>Tweet</b>"]],
    align: "center",
    line: {width: 1, color: 'black'},
    fill: {color: headerColor},
    font: {family: "Arial", size: 12, color: "white"}
  },
  cells: {
    values: values,
    align: "center",
    line: {color: "black", width: 1},
    fill: {color: [[rowOddColor,rowEvenColor,rowOddColor,
						  rowEvenColor,rowOddColor]]},
    font: {family: "Arial", size: 11, color: ["black"]}
  }
}]
var layout = {
    title:'Positive Tweet Data',
  autosize: true,
  width: 900,
  height: 400,
  paper_bgcolor:'rgba(0,0,0,0)',
  }
Plotly.newPlot('positivetotaltweettable', data,layout,config);



<!--//-->



let negkeys =  {{negativekeys|safe}}

let negvalues = {{negvalues|safe}}




colorsforp = []
tempcolorlist = ['#1f77b4',
'#ff7f0e',
'#2ca02c',
'#d62728',
'#9467bd',
'#8c564b',
'#e377c2',
'#7f7f7f',
'#bcbd22',
'#17becf'   ]
for(let i in negkeys)
{
    var randomNumber = Math.floor(Math.random()*tempcolorlist.length);
    colorsforp.push(tempcolorlist[randomNumber])
}

var trace2 = {
  type: 'bar',
  x: negkeys ,
  y: negvalues,

  marker: {
    color:colorsforp,
      line: {
          width: 1.5
      }
  }
};
var data2 = [ trace2 ];

var layout = {
  title: 'Negative Words',
  height: 400,
  width: 725,
  xaxis: {
    tickangle: -45
  },

  font: {size: 12},
  paper_bgcolor:'rgba(0,0,0,0)',

};

var config = {responsive: true}

Plotly.newPlot('negativebar', data2, layout, config );

<!--//-->

let nsd = {{negativetweettabledate|safe}};
let nsu = {{negativetweettableuser|safe}};
let nst = {{negativetweettabletweet|safe}};
let ncd = []
for(let i=1;i<=nsd.length;i++)
{
   ncd.push(i);
}

var values = [ncd,nsd,nsu,nst]
var headerColor = "red";
var rowEvenColor = "lightgrey";
var rowOddColor = "white";
var data = [{
  type: 'table',

  columnwidth: [400,400,400],
  header: {
    values: [ ["<b>S.No</b>"],["<b>Date</b>"],
				 ["<b>User</b>"], ["<b>Tweet</b>"]],
    align: "center",
    line: {width: 1, color: 'black'},
    fill: {color: headerColor},
    font: {family: "Arial", size: 12, color: "white"}
  },
  cells: {
    values: values,
    align: "center",
    line: {color: "black", width: 1},
    fill: {color: [[rowOddColor,rowEvenColor,rowOddColor,
						  rowEvenColor,rowOddColor]]},
    font: {family: "Arial", size: 11, color: ["black"]}
  }
}]
var layout = {
    title:'Negative Tweet Data',
  autosize: true,
  width: 900,
  height: 400,
  paper_bgcolor:'rgba(0,0,0,0)',
  }
Plotly.newPlot('negativetotaltweettable', data,layout,config);

<!--//-->
let quotee = {{trivia|safe}};
console.log(quotee.quote);
document.getElementById('positivequote').innerHTML = quotee.quote
let sucquote = {{sucresp|safe}}
document.getElementById('negativequote').innerHTML = sucquote.quote
</script>


<!-- MDB -->
<script
  type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/5.0.0/mdb.min.js"
></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.6.1/d3.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.6.1/d3.js"></script>
</body>
</html>